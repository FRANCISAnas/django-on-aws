AWS Deployment
fix https://forums.aws.amazon.com/thread.jspa?threadID=294006
https://gist.github.com/singledigit/a8031b9bd20ffc5a86a02b30e5949e3a#file-infrastructure-yaml-L42
https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/high_availability_origin_failover.html

- install aws for docker container to upload files to static s3? 
    aws s3 cp test.txt s3://dev.bournique.fr-static-files/test2.txt
- !!! create log group with cfn and pipe docker logs into CW + cw dashboard
- clean up all deployment scripts / remove hardcoded variables in scripts
- fix /admin path - CloudFront The request could not be satisfied
- add django logs + metrics filtering to CW dashboard
- add instance/AZ details to the django frontend
- review failover html page (with variables for static content)
- test rds snapshots when deleting stack and then restore it

aws s3 cp test.txt s3://dev.bournique.fr-static-files/test2.txt

Application features
- use of metric filter - eg. if too many 404 over 5mn -> trigger alarm (devops alarm)
- use S3 event for notifications on new image / object created + sqs & put metadata to dynamodb?
- Use the DynamoDB streams + SNS/SQS queue for email/slack notifications on new posts, and user welcome email
- Worker tier: push data from django app to an SQS Queue with Lambda workers defined with AWS SAM
- Session data: Configure Django app to work with ElastiCache
- Django DEBUG docker env var?m
- Update README

Extras
- codedeploy deployment with docker compose so that can mount files?
- create custom metrics for failed/successful deployment and create pie chart in cw dashboard
- Try AWS Cognito for Users management and SSO
- define/refine Cloudfront caching strategy: Check/update cache based on Headers, Cookies, or Query string parameters
- Use CodeDeploy blue/green deployment types to "replace" the whole TG with new fresh instances instead of in_place deployment
- Remove open CidrIPs below - and have Lambda to dynamically update with CF public IPs
# https://aws.amazon.com/blogs/security/automatically-update-security-groups-for-amazon-cloudfront-ip-ranges-using-aws-lambda/
